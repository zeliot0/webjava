{% extends 'layout/base.html.twig' %}

{% block title %}Features{% endblock %}

{% block body %}

<div class="page-header">
  <div>
    <h1 class="page-title">Features</h1>
    <p class="desc">Gestion des features</p>
  </div>

  <a href="{{ path('app_feature_new') }}" class="btn primary">
    <i class="fa-solid fa-plus"></i>
    Ajouter Feature
  </a>
</div>

{% if features is empty %}
  <div class="show-card" style="text-align:center">
    <p>Aucune feature trouvÃ©e.</p>
  </div>
{% else %}

<div class="cards-grid">

  {% for feature in features %}
    <div class="package-card">

      <h3>{{ feature.nom }}</h3>

      <p class="desc">
        {{ feature.description }}
      </p>

      <div class="price">
        {{ feature.limite }}
        <span>limite</span>
      </div>

      <ul class="infos">
        <li>Type : {{ feature.type }}</li>
        <li>
          Statut : {{ feature.statut ? 'Actif' : 'Inactif' }}
        </li>
      </ul>

      <!-- ACTIONS : SAME STYLE AS PACKAGE -->
      <div class="card-actions">

        <a href="{{ path('app_feature_edit', { id: feature.id }) }}"
           class="btn">
          Modifier
        </a>

        <form method="post"
              action="{{ path('app_feature_delete', { id: feature.id }) }}"
              onsubmit="return confirm('Voulez-vous vraiment supprimer cette feature ?');">

          <input type="hidden" name="_token"
                 value="{{ csrf_token('delete' ~ feature.id) }}">

          <button type="submit" class="btn">
            Supprimer
          </button>

        </form>

      </div>

    </div>
  {% endfor %}

</div>

{% endif %}

{% endblock %}
