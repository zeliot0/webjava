<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}NEXA{% endblock %}</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- CSS -->
  <link rel="stylesheet" href="{{ asset('css/styleee.css') }}">
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
</head>

<body>

<div class="layout layout-pro" id="appLayout">

  <div class="sb-overlay" id="sbOverlay"></div>

  <!-- ================= SIDEBAR ================= -->
  <aside class="sidebar sidebar-pro" id="sidebar">

    <!-- HEADER -->
    <div class="sb-head">
      <div class="sb-brand">
        <div class="sb-logo">
          <i class="fa-solid fa-bolt"></i>
        </div>
        <div class="sb-txt">
          <div class="sb-title">NEXA</div>
          <div class="sb-sub">
            <span class="dot-online"></span> Online
          </div>
        </div>
      </div>

      <button class="sb-collapse" id="sbCollapse">
        <i class="fa-solid fa-angles-left"></i>
      </button>
    </div>

    <!-- WORKSPACE -->
    <div class="sb-section">Workspace</div>

    <nav class="sb-nav">

      <!-- HOME USER -->
      <a class="sb-item"
         href="{{ path('app_utilisateur_packages') }}">
        <i class="fa-solid fa-house"></i>
        <span>Home</span>
      </a>

      <!-- PACKAGES USER -->
      <a class="sb-item
        {{ app.request.attributes.get('_route') starts with 'app_utilisateur_packages' ? 'active' : '' }}"
         href="{{ path('app_utilisateur_packages') }}">
        <i class="fa-solid fa-box"></i>
        <span>Packages</span>
      </a>

      <!-- FEATURES USER -->
      <a class="sb-item
        {{ app.request.attributes.get('_route') starts with 'app_utilisateur_features' ? 'active' : '' }}"
         href="{{ path('app_utilisateur_features') }}">
        <i class="fa-solid fa-puzzle-piece"></i>
        <span>Features</span>
      </a>

      <a class="sb-item" href="#">
        <i class="fa-solid fa-bullseye"></i>
        <span>Conscience</span>
      </a>

      <div class="sb-sep"></div>

      <!-- DAY -->
      <div class="sb-section">Day</div>

      <a class="sb-item" href="#">
        <i class="fa-regular fa-calendar"></i>
        <span>Daily planning</span>
      </a>

      <a class="sb-item" href="#">
        <i class="fa-regular fa-clock"></i>
        <span>Daily shutdown</span>
      </a>

      <a class="sb-item" href="#">
        <i class="fa-regular fa-star"></i>
        <span>Daily highlights</span>
      </a>

      <div class="sb-sep"></div>

      <!-- SETTINGS -->
      <a class="sb-item" href="#">
        <i class="fa-solid fa-gear"></i>
        <span>Settings</span>
      </a>

    </nav>

    <!-- PROFILE -->
    <div class="sb-profile">
      <div class="sb-prof-top">
        <div class="sb-avatar">NX</div>
        <div class="sb-prof-txt">
          <div class="sb-prof-name">NEXA User</div>
          <div class="sb-prof-role">Task Workspace</div>
        </div>
      </div>

        <i class="fa-solid fa-right-from-bracket"></i>
        <span>Log out</span>
      </a>
    </div>

  </aside>

  <!-- ================= MAIN ================= -->
  <main class="main main-pro">

    <!-- TOPBAR -->
    <div class="topbar topbar-pro">
      <div class="top-left">
        <button class="btn icon-only" id="topSidebarBtn">
          <i class="fa-solid fa-bars"></i>
        </button>

        <div class="brand-pro">
          <div class="brand-name">NEXA</div>
          <div class="brand-sub">Conscience</div>
        </div>
      </div>

      <div class="top-right">
        <button class="toggle" id="themeToggle">
          <i class="fa-solid fa-moon"></i>
        </button>
      </div>
    </div>

    <!-- CONTENT -->
    <div class="wrap">
      {% block body %}{% endblock %}
    </div>

  </main>
</div>

<!-- ================= SCRIPTS ================= -->

<script>
document.addEventListener("DOMContentLoaded", () => {
  const html = document.documentElement;
  const btn = document.getElementById("themeToggle");
  const icon = btn.querySelector("i");

  const saved = localStorage.getItem("theme") || "dark";
  html.setAttribute("data-theme", saved);
  icon.className = saved === "dark"
    ? "fa-solid fa-moon"
    : "fa-solid fa-sun";

  btn.addEventListener("click", () => {
    const next = html.getAttribute("data-theme") === "dark" ? "light" : "dark";
    html.setAttribute("data-theme", next);
    localStorage.setItem("theme", next);
    icon.className = next === "dark"
      ? "fa-solid fa-moon"
      : "fa-solid fa-sun";
  });
});
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const sidebar = document.getElementById("sidebar");
  const btn = document.getElementById("sbCollapse");

  if (!sidebar || !btn) return;
  btn.addEventListener("click", () => {
    sidebar.classList.toggle("collapsed");
  });
});
</script>

</body>
</html>
