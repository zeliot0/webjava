<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}NEXA{% endblock %}</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- CSS -->
  <link rel="stylesheet" href="{{ asset('css/styleee.css') }}">


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
</head>

<body>

<div class="layout layout-pro" id="appLayout">

  <!-- overlay mobile sidebar -->
  <div class="sb-overlay" id="sbOverlay"></div>

  <!-- ================= SIDEBAR ================= -->
  <aside class="sidebar sidebar-pro" id="sidebar">

    <!-- HEADER -->
    <div class="sb-head">
      <div class="sb-brand">
        <div class="sb-logo">
          <i class="fa-solid fa-bolt"></i>
        </div>
        <div class="sb-txt">
          <div class="sb-title">NEXA</div>
          <div class="sb-sub">
            <span class="dot-online"></span> Online
          </div>
        </div>
      </div>

      <button class="sb-collapse" id="sbCollapse" title="Masquer / Afficher">
        <i class="fa-solid fa-angles-left"></i>
      </button>
    </div>

   <nav class="sb-nav">

  <div class="sb-section">Workspace</div>

  <!-- produit -->
  <a class="sb-item active">
    <i class="fa-solid fa-list-check"></i>
    <span>produit</span>
    <span class="sb-badge">3</span>
  </a>

  <!-- CONSCIENCE -->
  <a class="sb-item">
    <i class="fa-solid fa-brain"></i>
    <span>Conscience</span>
  </a>

  <!-- PRODUITS -->
  <a class="sb-item" href="{{ path('app_produit_index') }}">
    <i class="fa-solid fa-box"></i>
    <span>Produits</span>
  </a>

  <!-- MOUVEMENTS -->
  <a class="sb-item" href="{{ path('app_mouvement_index') }}">
    <i class="fa-solid fa-right-left"></i>
    <span>Mouvements</span>
  </a>

</nav>

      <!-- SETTINGS -->
      <a class="sb-item" href="#">
        <i class="fa-solid fa-gear"></i>
        <span>Settings</span>
      </a>
    </nav>

    <!-- PROFILE -->
    <div class="sb-profile">
      <div class="sb-prof-top">
        <div class="sb-avatar">NX</div>
        <div class="sb-prof-txt">
          <div class="sb-prof-name">NEXA User</div>
          <div class="sb-prof-role">Task Workspace</div>
        </div>
      </div>

      <button class="sb-logout" type="button">
        <i class="fa-solid fa-right-from-bracket"></i>
        <span>Log out</span>
      </button>
    </div>

  </aside>

  <!-- ================= MAIN ================= -->
  <main class="main main-pro">

    <!-- TOPBAR -->
    <div class="topbar topbar-pro">
      <div class="top-left">
        <button class="btn icon-only" id="topSidebarBtn">
          <i class="fa-solid fa-bars"></i>
        </button>

        <div class="brand-pro">
          <div class="brand-name">NEXA</div>
          <div class="brand-sub">welcooooooooooooome</div>
        </div>
      </div>

      <div class="top-right">
        <button class="toggle" id="themeToggle">
          <i class="fa-solid fa-moon"></i>
        </button>
      </div>
    </div>

    <!-- CONTENT -->
    <div class="wrap">
      {% for message in app.flashes('success') %}
        <div class="success" style="margin-bottom:12px">{{ message }}</div>
      {% endfor %}
      {% for message in app.flashes('error') %}
        <div class="warning" style="margin-bottom:12px">{{ message }}</div>
      {% endfor %}
      {% block body %}{% endblock %}
    </div>

  </main>
</div>

<!-- ================= SCRIPTS ================= -->

<script>
/* THEME TOGGLE */
document.addEventListener("DOMContentLoaded", () => {
  const html = document.documentElement;
  const btn = document.getElementById("themeToggle");
  const icon = btn.querySelector("i");

  const saved = localStorage.getItem("theme") || "dark";
  html.setAttribute("data-theme", saved);
  icon.className = saved === "dark"
    ? "fa-solid fa-moon"
    : "fa-solid fa-sun";

  btn.addEventListener("click", () => {
    const next = html.getAttribute("data-theme") === "dark" ? "light" : "dark";
    html.setAttribute("data-theme", next);
    localStorage.setItem("theme", next);
    icon.className = next === "dark"
      ? "fa-solid fa-moon"
      : "fa-solid fa-sun";
  });
});
</script>

<script>
/* SIDEBAR COLLAPSE */
document.addEventListener("DOMContentLoaded", () => {
  const sidebar = document.getElementById("sidebar");
  const btn = document.getElementById("sbCollapse");

  if (!sidebar || !btn) return;

  btn.addEventListener("click", () => {
    sidebar.classList.toggle("collapsed");
  });
});
</script>

</body>
</html>
